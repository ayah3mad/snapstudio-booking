{% extends 'base.html' %}
{% load static %}

{% block title %}Services{% endblock %}

{% block content %}
<h1 class="page-title">Services</h1>

<div class="services-container">
    {% for service in services %}
    <div class="service-card">
        {% if service.image %}
            <img src="{{ service.image.url }}" alt="{{ service.name }}">
        {% else %}
            <img src="{% static 'images/service_placeholder.png' %}" alt="{{ service.name }}">
        {% endif %}

        <h3>{{ service.name }}</h3>
         <p class="description">{{ service.description }} - {{ service.duration }}</p>

        <div class="price-duration">
            <span class="price">{{ service.price }} JD</span>
            {% if not request.user.is_superuser %}
            <button class="book-btn">Book Now</button>
            {% else %}
            <span class="duration">{{ service.duration }}</span>
            {% endif %}
        </div>

        {% if request.user.is_superuser %}
        <div class="admin-buttons">
            <a href="{% url 'service_edit' service.id %}" class="edit-btn">Edit</a>

            <form method="POST" 
                  action="{% url 'service_delete' service.id %}" 
                  onsubmit="return confirm('Are you sure you want to delete this service?');">
                {% csrf_token %}
                <button type="submit" class="delete-btn">Delete</button>
            </form>
        </div>
        {% endif %}
    </div>
    {% endfor %}
</div>

{% if request.user.is_superuser %}
<div class="add-service-container">
    <a href="{% url 'service_add' %}" class="add-service-btn">+ Add Service</a>
</div>
{% endif %}
{% endblock %}
