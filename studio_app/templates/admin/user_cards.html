{% extends 'base.html' %}
{% load static %}

{% block title %}All Users{% endblock %}

{% block content %}
<h1 style="text-align:center; margin-bottom:20px;">All Users</h1>

<div style="display:flex; flex-direction:column; gap:10px; align-items:center;">
    {% for u in users %}
    <div style="
        border:1px solid #ddd;
        border-radius:12px;
        background:#fff;
        box-shadow:0 4px 10px rgba(0,0,0,0.08);
        width:90%;
        max-width:800px;
        padding:12px 15px;
        display:flex;
        align-items:center;
        gap:10px;
        transition: box-shadow 0.2s ease;
    " onmouseover="this.style.boxShadow='0 8px 20px rgba(0,0,0,0.15)'" onmouseout="this.style.boxShadow='0 4px 10px rgba(0,0,0,0.08)'">
        
        <!-- User image and name -->
        <div style="display:flex; align-items:center; flex:2; gap:10px;">
            <img src="{% static 'images/user_placeholder.png' %}" alt="User Image" style="width:40px; height:40px; border-radius:50%; object-fit:cover;">
            <span>{{ u.username }}</span>
        </div>

        <!-- Full name -->
        <div style="flex:2;">{{ u.first_name }} {{ u.last_name }}</div>

        <!-- Email -->
        <div style="flex:3;">{{ u.email }}</div>

        <!-- Delete button -->
        <form method="POST" action="{% url 'delete_account_by_admin' u.id %}" 
              onsubmit="return confirm('Are you sure you want to delete this user?');" style="margin-left:auto;">
            {% csrf_token %}
            <button type="submit" style="
                padding:6px 12px; 
                background-color:#e74c3c; 
                color:white; 
                border:none; 
                border-radius:5px; 
                cursor:pointer;
            "><i class="fa-solid fa-trash"></i> Delete</button>
        </form>
    </div>
    {% endfor %}
</div>
{% endblock %}

